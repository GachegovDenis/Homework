#include <iostream>
#include <cmath>

using namespace std;

int main()
{
    const double PI = 3.141592653589793238463;
    // Задаютя начальные значения (по условиям задачи)
    double a = 0.1, b = 0.8, E = 0.0001;
    int n = 10;
    // Вычисляется шаг
    double dx = (b - a) / 10;
    // Для красоты
    cout << "x     f        f_n         f_E\n";
    /* Цикл for с индексом x, начинающимся от a,
     увеличивающимся на каждом шаге на dx, пока не превысит b*/
    for (double x = a; x <= b; x += dx)
    {
        // Точное значение f(x)
        double f = (x * sin(PI / 4)) / (1 - 2 * x * cos(PI / 4) + pow(x, 2));
        cout << x << ' ' << f << ' ';
        // Начальное значение для суммы ряда
        f = 0;
        // Переменная предназначенная для вычисления x в степени n
        double x_n = 1;
        // Перебираем i от 1 до n
        for (int i = 1; i <= n; i++)
        {
            // домножаем на x в квадрате и -1
            x_n = x_n * x;
            // Вычисляем слагаемое и добавляем к сумматору
            f += x_n * sin(i * (PI / 4));
        }
        // Сумма ряда для заданного n готова
        cout << f << ' ';
        // Заново задаем начальные значения переменных
        x_n = 1;
        f = 0;
        int i = 1;
        // Слагаемое надо будет вычислять в отдельной переменной
        // т.к. по ней задаётся условие выхода
        double fi;
        do
        {
            // Те же самые вычисления
            x_n *= x;
            fi = x_n * sin(i * (PI / 4));
            f += fi;
            i++;
            // Для цикла while задаётся условие продолжения
            // поока очередное слагаемое суммы ряда больше E
        } while (fabs(fi) > E);
        cout << f << endl;
    }
    return 0;
}
